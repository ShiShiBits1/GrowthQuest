{% extends "base.html" %}

{% block title %}孩子管理{% endblock %}

{% block content %}
<h1>孩子管理</h1>
{% if children %}
<table>
    <tr>
        <th>姓名</th>
        <th>年龄</th>
        <th>当前积分</th>
        <th>操作</th>
    </tr>
    {% for child in children %}
    <tr>
        <td>{{ child.name }}</td>
        <td>{{ child.age or '未设置' }}</td>
        <td>{{ child.points }}</td>
        <td>
            <a href="{{ url_for('main.child_detail', child_id=child.id) }}" class="button">查看详情</a>
            <form action="{{ url_for('main.delete_child', child_id=child.id) }}" method="post" style="display: inline;">
                <button type="submit" class="button delete" onclick="return confirm('确定要删除孩子{{ child.name }}的所有信息吗？此操作不可恢复。');">删除</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p>您还没有添加孩子</p>
{% endif %}
<a href="{{ url_for('main.add_child') }}" class="button">添加孩子</a>
{% endblock %}