{% extends "base.html" %}

{% block title %}å¾½ç« ç®¡ç† - æˆé•¿å¥–åŠ±ç³»ç»Ÿ{% endblock %}

{% block content %}
<h1>ğŸ† å¾½ç« ç®¡ç†</h1>
<style>
  table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    margin-bottom: 30px; /* å¢åŠ è¡¨æ ¼ä¸æŒ‰é’®ä¹‹é—´çš„é—´è· */
  }
  table tr {
    height: 50px; /* å¢åŠ è¡¨æ ¼è¡Œé«˜ */
  }
  table tr:nth-child(even) {
    background-color: #f9f9f9;
  }
  table th,
  table td {
    padding: 12px 15px; /* å¢åŠ å•å…ƒæ ¼å†…è¾¹è· */
    text-align: left;
  }
  table th {
    background-color: #4CAF50; /* ä¿æŒä¸å¥–åŠ±ç®¡ç†é¡µé¢ç›¸åŒçš„ç»¿è‰²è¡¨å¤´ */
    color: white;
    font-weight: bold;
  }
  .button {
    margin-top: 15px;
    padding: 10px 20px;
  }
</style>

{% if is_parent %}
<div style="margin-bottom: 30px;">
    <a href="{{ url_for('main.add_badge') }}" class="button">
        <i class="fa fa-plus"></i> æ·»åŠ å¾½ç« 
    </a>
</div>
{% endif %}

{% if badges %}
<table>
    <tr>
        <th>å›¾æ ‡</th>
        <th>åç§°</th>
        <th>æè¿°</th>
        <th>å…³è”ä»»åŠ¡</th>
        <th>å®Œæˆæ¡ä»¶</th>
        <th>ç­‰çº§</th>
        <th>ç§¯åˆ†å¥–åŠ±</th>
        {% if is_parent %}
        <th>æ“ä½œ</th>
        {% endif %}
    </tr>
    {% for badge in badges %}
    <tr>
        <td>{{ badge.icon }}</td>
        <td>{{ badge.name }}</td>
        <td>{{ badge.description }}</td>
        <td>{{ badge.task.name if badge.task else 'æ— å…³è”ä»»åŠ¡' }}</td>
        <td>
            {% if badge.completions_required > 0 %}
            å®Œæˆ{{ badge.completions_required }}æ¬¡
            {% else %}
            è¿ç»­{{ badge.days_required }}å¤©
            {% endif %}
        </td>
        <td>{{ badge.level }}</td>
        <td>{{ badge.points_reward }}</td>
        {% if is_parent %}
        <td>
            <a href="{{ url_for('main.edit_badge', badge_id=badge.id) }}" class="btn btn-sm btn-primary">
                <i class="fa fa-edit"></i> ç¼–è¾‘
            </a>
        </td>
        {% endif %}
    </tr>
    {% endfor %}
</table>
{% else %}
<p>æš‚æ— å¾½ç« è®°å½•ã€‚</p>
{% endif %}
{% endblock %}